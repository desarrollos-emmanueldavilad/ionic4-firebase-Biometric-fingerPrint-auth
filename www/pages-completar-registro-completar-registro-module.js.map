{"version":3,"sources":["webpack:///./src/app/pages/completar-registro/completar-registro.module.ts","webpack:///./src/app/pages/completar-registro/completar-registro.page.html","webpack:///./src/app/pages/completar-registro/completar-registro.page.scss","webpack:///./src/app/pages/completar-registro/completar-registro.page.ts","webpack:///./src/app/services/completar-registro.service.ts"],"names":[],"mappings":"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","file":"pages-completar-registro-completar-registro-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CompletarRegistroPage } from './completar-registro.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompletarRegistroPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CompletarRegistroPage]\r\n})\r\nexport class CompletarRegistroPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>completar-registro</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <div>\\r\\n        <ion-row no-padding class=\\\"animated fadeIn fast\\\">\\r\\n            <ion-col size=\\\"6\\\" offset=\\\"3\\\">\\r\\n                <img class=\\\"circular\\\" [src]=\\\"image\\\" *ngIf=\\\"image\\\" />\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row no-padding class=\\\"animated fadeIn fast\\\">\\r\\n            <ion-col size=\\\"6\\\" offset=\\\"3\\\">\\r\\n                <ion-button fill=\\\"outline\\\" expand=\\\"block\\\" size=\\\"small\\\" (click)=\\\"getPicture()\\\">Agrega tu Foto</ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </div>\\r\\n    <form  style=\\\"font-family: Comfortaa\\\" [formGroup]=\\\"validations_form\\\" (ngSubmit)=\\\"onSubmit(validations_form.value)\\\">\\r\\n  \\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"ion-color-dark\\\">Nombre</ion-label>\\r\\n            <ion-input placeholder=\\\"Nombre\\\" type=\\\"text\\\" formControlName=\\\"nombre\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"ion-color-dark\\\">Apellido</ion-label>\\r\\n            <ion-input placeholder=\\\"Apellido\\\" type=\\\"text\\\" formControlName=\\\"apellido\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" color=\\\"ion-color-dark\\\">Correo Electronico</ion-label>\\r\\n                <ion-input placeholder=\\\"Correo Electronico\\\" type=\\\"text\\\" formControlName=\\\"email\\\"></ion-input>\\r\\n            </ion-item>\\r\\n        <ion-item>\\r\\n                <div>\\r\\n                    <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" pickerFormat=\\\"DD/MM/YYYY\\\" padding placeholder=\\\"Fecha de Nacimiento\\\" type=\\\"date\\\" formControlName=\\\"fechaNacimiento\\\"  done-text=\\\"Aceptar\\\" cancel-text=\\\"Cancelar\\\"></ion-datetime>\\r\\n                </div>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"ion-color-dark\\\">Edad</ion-label>\\r\\n            <ion-input placeholder=\\\"Edad\\\" type=\\\"number\\\" formControlName=\\\"edad\\\"></ion-input>\\r\\n        </ion-item>\\r\\n   \\r\\n        <ion-button class=\\\"submit-btn\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!validations_form.valid\\\" class=\\\"boton-crear\\\">Terminar Registro</ion-button>\\r\\n    </form>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NvbXBsZXRhci1yZWdpc3Ryby9jb21wbGV0YXItcmVnaXN0cm8ucGFnZS5zY3NzIn0= */\"","import { WebView } from '@ionic-native/ionic-webview/ngx';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { CompletarRegistroService } from 'src/app/services/completar-registro.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { LoadingController, ToastController } from '@ionic/angular';\r\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-completar-registro',\r\n  templateUrl: './completar-registro.page.html',\r\n  styleUrls: ['./completar-registro.page.scss'],\r\n})\r\nexport class CompletarRegistroPage implements OnInit {\r\n\r\n  validations_form: FormGroup;\r\n  errorMessage = '';\r\n  successMessage = '';\r\n  image: any;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private firebaseService: CompletarRegistroService,\r\n    private camera: Camera,\r\n    private imagePicker: ImagePicker,\r\n    public toastCtrl: ToastController,\r\n    public loadingCtrl: LoadingController,\r\n    private webview: WebView,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.resetFields();\r\n  }\r\n\r\n  resetFields(){\r\n    this.image = './assets/imgs/retech.png';\r\n    this.validations_form = this.formBuilder.group({\r\n      nombre: new FormControl('', Validators.required),\r\n      email: new FormControl('', Validators.required),\r\n      apellido: new FormControl('', Validators.required),\r\n      fechaNacimiento: new FormControl('', Validators.required),\r\n      edad: new FormControl('', Validators.required),\r\n    });\r\n  }\r\n\r\n  onSubmit(value){\r\n    const data = {\r\n      nombre: value.nombre,\r\n      email: value.email,\r\n      apellido: value.apellido,\r\n      fechaNacimiento: value.fechaNacimiento,\r\n      edad: value.edad,\r\n      image: this.image\r\n    }\r\n    this.firebaseService.createInquilinoPerfil(data)\r\n      .then(\r\n        res => {\r\n          this.router.navigate(['/tabs/tab1']);\r\n        }\r\n      )\r\n  }\r\n\r\n\r\n  openImagePicker(){\r\n    this.imagePicker.hasReadPermission()\r\n      .then((result) => {\r\n        if(result == false){\r\n          // no callbacks required as this opens a popup which returns async\r\n          this.imagePicker.requestReadPermission();\r\n        }\r\n        else if(result == true){\r\n          this.imagePicker.getPictures({\r\n            maximumImagesCount: 1\r\n          }).then(\r\n            (results) => {\r\n              for (var i = 0; i < results.length; i++) {\r\n                this.uploadImageToFirebase(results[i]);\r\n              }\r\n            }, (err) => console.log(err)\r\n          );\r\n        }\r\n      }, (err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  async uploadImageToFirebase(image){\r\n    const loading = await this.loadingCtrl.create({\r\n      message: 'Please wait...'\r\n    });\r\n    const toast = await this.toastCtrl.create({\r\n      message: 'Image was updated successfully',\r\n      duration: 3000\r\n    });\r\n    this.presentLoading(loading);\r\n    let image_src = this.webview.convertFileSrc(image);\r\n    let randomId = Math.random().toString(36).substr(2, 5);\r\n\r\n    //uploads img to firebase storage\r\n    this.firebaseService.uploadImage(image_src, randomId)\r\n      .then(photoURL => {\r\n        this.image = photoURL;\r\n        loading.dismiss();\r\n        toast.present();\r\n      }, err =>{\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  async presentLoading(loading) {\r\n    return await loading.present();\r\n  }\r\n\r\n  getPicture(){\r\n    let options: CameraOptions = {\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      targetWidth: 1000,\r\n      targetHeight: 1000,\r\n      quality: 100\r\n    }\r\n    this.camera.getPicture( options )\r\n    .then(imageData => {\r\n      this.image = `data:image/jpeg;base64,${imageData}`;\r\n    })\r\n    .catch(error =>{\r\n      console.error( error );\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {AngularFirestore} from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CompletarRegistroService {\r\n\r\n  private snapshotChangesSubscription: any;\r\n\r\n  constructor(\r\n    public afs: AngularFirestore,\r\n    public afAuth: AngularFireAuth\r\n  ) {\r\n  }\r\n\r\n\r\n  getInquilinoAdmin() {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.snapshotChangesSubscription = this.afs.\r\n        collection('inquilino-registrado').snapshotChanges();\r\n      resolve(this.snapshotChangesSubscription);\r\n    });\r\n  }\r\n\r\n  getInquilino() {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.afAuth.user.subscribe(currentUser => {\r\n        if (currentUser) {\r\n            this.snapshotChangesSubscription = this.afs.\r\n            collection('inquilino-registrado', ref => ref.where('userId', '==', currentUser.uid)).snapshotChanges();\r\n            resolve(this.snapshotChangesSubscription);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  getInquilinoId(inquilinoId) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.snapshotChangesSubscription = this.afs.doc<any>('/inquilino-registrado/' + inquilinoId).valueChanges()\r\n        .subscribe(snapshots => {\r\n          resolve(snapshots);\r\n        }, err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  unsubscribeOnLogOut() {\r\n    //remember to unsubscribe from the snapshotChanges\r\n    this.snapshotChangesSubscription.unsubscribe();\r\n  }\r\n\r\n  updateRegistroInquilino(registroInquilinoKey, value) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      console.log('update-registroInquilinoKey', registroInquilinoKey);\r\n      console.log('update-registroInquilinoKey', value);\r\n      this.afs.collection('inquilino-registrado').doc(registroInquilinoKey).set(value) \r\n        .then(\r\n          res => resolve(res),\r\n          err => reject(err)\r\n        );\r\n    });\r\n  }\r\n\r\n  deleteRegistroInquilino(registroInquilinoKey) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      console.log('delete-registroInquilinoKey', registroInquilinoKey);\r\n      this.afs.collection('inquilino-registrado').doc(registroInquilinoKey).delete()\r\n        .then(\r\n          res => resolve(res),\r\n          err => reject(err)\r\n        );\r\n    });\r\n  }\r\n\r\n  createInquilinoPerfil(value) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      let currentUser = firebase.auth().currentUser;\r\n      this.afs.collection('inquilino-registrado').add({\r\n        nombre: value.nombre,\r\n        apellido: value.apellido,\r\n        email: value.email,\r\n        fechaNacimiento: value.fechaNacimiento,\r\n        image: value.image,\r\n        userId: currentUser.uid,\r\n      })\r\n        .then(\r\n          res => resolve(res),\r\n          err => reject(err)\r\n        );\r\n    });\r\n  }\r\n\r\n  encodeImageUri(imageUri, callback) {\r\n    var c = document.createElement('canvas');\r\n    var ctx = c.getContext('2d');\r\n    var img = new Image();\r\n    img.onload = function () {\r\n      var aux: any = this;\r\n      c.width = aux.width;\r\n      c.height = aux.height;\r\n      ctx.drawImage(img, 0, 0);\r\n      var dataURL = c.toDataURL('image/jpeg');\r\n      callback(dataURL);\r\n    };\r\n    img.src = imageUri;\r\n  };\r\n\r\n  uploadImage(imageURI, randomId) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      let storageRef = firebase.storage().ref();\r\n      let imageRef = storageRef.child('image').child(randomId);\r\n      this.encodeImageUri(imageURI, function (image64) {\r\n        imageRef.putString(image64, 'data_url')\r\n          .then(snapshot => {\r\n            snapshot.ref.getDownloadURL()\r\n              .then(res => resolve(res));\r\n          }, err => {\r\n            reject(err);\r\n          });\r\n      });\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}